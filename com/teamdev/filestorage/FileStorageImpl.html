<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Wed Nov 12 03:59:41 EET 2014 -->
<title>FileStorageImpl</title>
<meta name="date" content="2014-11-12">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="FileStorageImpl";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/teamdev/filestorage/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/teamdev/filestorage/FileStorage.html" title="interface in com.teamdev.filestorage"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/teamdev/filestorage/Main.html" title="class in com.teamdev.filestorage"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/teamdev/filestorage/FileStorageImpl.html" target="_top">Frames</a></li>
<li><a href="FileStorageImpl.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.teamdev.filestorage</div>
<h2 title="Class FileStorageImpl" class="title">Class FileStorageImpl</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.teamdev.filestorage.FileStorageImpl</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../com/teamdev/filestorage/FileStorage.html" title="interface in com.teamdev.filestorage">FileStorage</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">FileStorageImpl</span>
extends java.lang.Object
implements <a href="../../../com/teamdev/filestorage/FileStorage.html" title="interface in com.teamdev.filestorage">FileStorage</a></pre>
<div class="block">Implementation of abstract data storage that allows to store millions objects in one folder.
 Storage represents folder hierarchy which is based on MD5 hash function.
 This means that storage allow to operate with 16^32 different file keys.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Alex Geta</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../com/teamdev/filestorage/FileStorageImpl.html#FileStorageImpl(java.lang.String, long)">FileStorageImpl</a></strong>(java.lang.String&nbsp;rootPath,
               long&nbsp;bytes)</code>
<div class="block">Creates a new FileStorage instance with the specified parameters.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/teamdev/filestorage/FileStorageImpl.html#deleteFile(java.lang.String)">deleteFile</a></strong>(java.lang.String&nbsp;key)</code>
<div class="block">Delete object with associated key from the storage.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/teamdev/filestorage/FileStorageImpl.html#getFreeSpace()">getFreeSpace</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.io.InputStream</code></td>
<td class="colLast"><code><strong><a href="../../../com/teamdev/filestorage/FileStorageImpl.html#readFile(java.lang.String)">readFile</a></strong>(java.lang.String&nbsp;key)</code>
<div class="block">Returns InputStream to object in storage which is associated with the specified key.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/teamdev/filestorage/FileStorageImpl.html#saveFile(java.lang.String, java.io.InputStream)">saveFile</a></strong>(java.lang.String&nbsp;key,
        java.io.InputStream&nbsp;inputStream)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/teamdev/filestorage/FileStorageImpl.html#saveFile(java.lang.String, java.io.InputStream, long)">saveFile</a></strong>(java.lang.String&nbsp;key,
        java.io.InputStream&nbsp;inputStream,
        long&nbsp;millis)</code>
<div class="block">Reads object from InputStream and saves it to the storage.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FileStorageImpl(java.lang.String, long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FileStorageImpl</h4>
<pre>public&nbsp;FileStorageImpl(java.lang.String&nbsp;rootPath,
               long&nbsp;bytes)</pre>
<div class="block">Creates a new FileStorage instance with the specified parameters.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rootPath</code> - Root folder pathname string</dd><dd><code>bytes</code> - Allowed for usage space in bytes</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if passed arguments is invalid.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="saveFile(java.lang.String, java.io.InputStream, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveFile</h4>
<pre>public&nbsp;boolean&nbsp;saveFile(java.lang.String&nbsp;key,
               java.io.InputStream&nbsp;inputStream,
               long&nbsp;millis)
                 throws java.io.IOException</pre>
<div class="block">Reads object from InputStream and saves it to the storage.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/teamdev/filestorage/FileStorage.html#saveFile(java.lang.String, java.io.InputStream, long)">saveFile</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/teamdev/filestorage/FileStorage.html" title="interface in com.teamdev.filestorage">FileStorage</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - Key string associated with saving object.</dd><dd><code>inputStream</code> - InputStream with saving object.</dd><dd><code>millis</code> - Object expiration time in milliseconds.</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if object successfully saved.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.nio.file.FileAlreadyExistsException</code> - if file with same associated key already exists in storage.</dd>
<dd><code>java.lang.IllegalStateException</code> - if object size is bigger than available free space in storage.</dd>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="saveFile(java.lang.String, java.io.InputStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveFile</h4>
<pre>public&nbsp;boolean&nbsp;saveFile(java.lang.String&nbsp;key,
               java.io.InputStream&nbsp;inputStream)
                 throws java.io.IOException</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/teamdev/filestorage/FileStorage.html#saveFile(java.lang.String, java.io.InputStream)">saveFile</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/teamdev/filestorage/FileStorage.html" title="interface in com.teamdev.filestorage">FileStorage</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="getFreeSpace()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFreeSpace</h4>
<pre>public&nbsp;long&nbsp;getFreeSpace()</pre>
</li>
</ul>
<a name="readFile(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readFile</h4>
<pre>public&nbsp;java.io.InputStream&nbsp;readFile(java.lang.String&nbsp;key)
                             throws java.io.IOException</pre>
<div class="block">Returns InputStream to object in storage which is associated with the specified key.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/teamdev/filestorage/FileStorage.html#readFile(java.lang.String)">readFile</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/teamdev/filestorage/FileStorage.html" title="interface in com.teamdev.filestorage">FileStorage</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - Key string associated with reading object.</dd>
<dt><span class="strong">Returns:</span></dt><dd>InputStream to object in storage.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code> - if object with specified key is not exists in storage.</dd>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="deleteFile(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>deleteFile</h4>
<pre>public&nbsp;boolean&nbsp;deleteFile(java.lang.String&nbsp;key)
                   throws java.io.IOException</pre>
<div class="block">Delete object with associated key from the storage.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../com/teamdev/filestorage/FileStorage.html#deleteFile(java.lang.String)">deleteFile</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/teamdev/filestorage/FileStorage.html" title="interface in com.teamdev.filestorage">FileStorage</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - Key string associated with deleted object.</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the object successfully deleted.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.FileNotFoundException</code> - if object with specified key is not exists in storage.</dd>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/teamdev/filestorage/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/teamdev/filestorage/FileStorage.html" title="interface in com.teamdev.filestorage"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/teamdev/filestorage/Main.html" title="class in com.teamdev.filestorage"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/teamdev/filestorage/FileStorageImpl.html" target="_top">Frames</a></li>
<li><a href="FileStorageImpl.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
